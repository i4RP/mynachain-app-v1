(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{428:function(e,t,n){e.exports=n(952)},463:function(e,t){},506:function(e,t){},508:function(e,t){},540:function(e,t){},541:function(e,t){},608:function(e,t){},952:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(35),i=n.n(o),u=n(81),s=n(37),l=n(97),p=c.a.createContext({});function m(e){var t=e.children,n=Object(r.useState)(!1),o=Object(s.a)(n,2),i=o[0],u=o[1],m=Object(r.useState)(!1),d=Object(s.a)(m,2),f=d[0],h=d[1],b=Object(r.useState)(!1),v=Object(s.a)(b,2),g=v[0],E=v[1];return Object(r.useEffect)((function(){var e=new l.WsProvider(localStorage.destination||"ws://ec2-3-87-10-167.compute-1.amazonaws.com:9944");(a=new l.ApiPromise({provider:e,types:{"types::AccountId":"u64","types::Account":{cert:"Vec<u8>",id:"types::AccountId",nonce:"u64"},"types::Balance":"u64","types::SignedData":{tbs:"Tx",signature:"types::Signature",id:"types::AccountId"},"types::Signature":"Vec<u8>",Tx:{_enum:{CreateAccount:"TxCreateAccount",Send:"TxSend",Mint:"TxMint",Other:null}},TxCreateAccount:{cert:"Vec<u8>",nonce:"uNonce"},TxSend:{to:"types::AccountId",amount:"types::Balance",nonce:"uNonce"},TxMint:{amount:"types::Balance",nonce:"uNonce"},uNonce:"u64"}})).on("connected",(function(){return h(!0)})),a.on("disconnected",(function(){return h(!1)})),a.on("ready",(function(){u(!0)})),E(!0)}),[]),g?c.a.createElement(p.Provider,{value:{api:a,isApiConnected:f,isReady:i}},t):null}function d(){return Object(r.useContext)(p)}var f=n(168),h=n(111),b=n(25),v=n.n(b),g=n(50),E=n(977),x=n(981),j=n(982),O=n(983),w=n(984),y=n(985),S=n(986),k=n(417),C=n.n(k),A=n(173),D=n(100),W=n(414),T=n.n(W),N=0;function I(e){return M.apply(this,arguments)}function M(){return(M=Object(g.a)(v.a.mark((function e(t){var n,a,r=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:null,N++,e.next=4,T()({method:"post",url:"http://localhost:3030",timeout:1e4,data:{jsonrpc:"2.0",id:N,method:t,params:n}});case 4:if(!(a=e.sent).data.error){e.next=7;break}throw new Error(a.data.error.message);case 7:return e.abrupt("return",a.data.result);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(){function e(t){Object(A.a)(this,e),this.name=void 0,this.name=t}return Object(D.a)(e,[{key:"open",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("openReader",[this.name]);case 2:return t=e.sent,e.abrupt("return",new B(t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),B=function(){function e(t){Object(A.a)(this,e),this.fd=void 0,this.fd=t}return Object(D.a)(e,[{key:"getStatus",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.fd<0)){e.next=2;break}throw new Error("Card not selected");case 2:return e.next=4,I("getStatus",[this.fd]);case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCert",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.fd<0)){e.next=2;break}throw new Error("Card not selected");case 2:return e.next=4,I("getCert",[this.fd]);case 4:return t=e.sent,e.abrupt("return",t.cert);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"computeSig",value:function(){var e=Object(g.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.fd<0)){e.next=2;break}throw new Error("Card not selected");case 2:return e.next=4,I("computeSig",[this.fd,t,"3031300d060960864801650304020105000420"+n]);case 4:return a=e.sent,e.abrupt("return",a.sig);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"reconnect",value:function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.fd<0)){e.next=2;break}throw new Error("Card not selected");case 2:return e.next=4,I("reconnect",[this.fd]);case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function R(){return(R=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("getReaders");case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return new P(e)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=new B(-1);function H(){d().api;var e=Object(h.e)(),t=Object(u.useToasts)().addToast,n=Object(r.useState)([]),a=Object(s.a)(n,2),o=a[0],i=a[1],l=function(){var e=Object(g.a)(v.a.mark((function e(n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.open();case 3:a=e.sent,F.fd=a.fd,t("Successfully opened reader ".concat(n.name," as descriptor ").concat(a.fd,"!"),{appearance:"success",autoDismiss:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t("Opening reader failed: ".concat(e.t0.toString()),{appearance:"error",autoDismiss:!0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(g.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.getStatus();case 3:n=e.sent,console.log(n),t("Please see console",{appearance:"success",autoDismiss:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t("Error occured: ".concat(e.t0.toString()),{appearance:"error",autoDismiss:!0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){return R.apply(this,arguments)})().then((function(e){i(e)}),(function(e){t("Daemon is not started.",{appearance:"error",autoDismiss:!0})}))}),[]),c.a.createElement(E.a,null,c.a.createElement("h1",null,"\u30de\u30a4\u30ca\u30f3\u30d0\u30fc\u30c1\u30a7\u30fc\u30f3"),c.a.createElement(x.a,{subheader:c.a.createElement(j.a,{component:"div",id:"nested-list-subheader"},"\u5229\u7528\u53ef\u80fd\u306a\u30ab\u30fc\u30c9\u30ea\u30fc\u30c0\u30fc")},o.map((function(e){return c.a.createElement(O.a,{button:!0,key:e.name,onClick:function(){l(e)}},c.a.createElement(w.a,null,c.a.createElement(C.a,null)),c.a.createElement(y.a,{primary:e.name}))}))),c.a.createElement(S.a,null),c.a.createElement(x.a,{subheader:c.a.createElement(j.a,{component:"div",id:"nested-list-subheader"},"What will you do next?")},c.a.createElement(O.a,{button:!0,onClick:function(){return e.push("/newaccount")}},"\u65b0\u3057\u3044\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210"),c.a.createElement(O.a,{button:!0,onClick:function(){return e.push("/mint")}},"\u6b8b\u9ad8\u3092\u767a\u884c"),c.a.createElement(O.a,{button:!0,onClick:function(){return e.push("/Send")}},"\u9001\u91d1")),c.a.createElement(S.a,null),c.a.createElement(x.a,{subheader:c.a.createElement(j.a,{component:"div",id:"nested-list-subheader"},"Explore / Inspect")},c.a.createElement(O.a,{button:!0},"Under Construction")),c.a.createElement(S.a,null),c.a.createElement(x.a,{subheader:c.a.createElement(j.a,{component:"div",id:"nested-list-subheader"},"\u30c7\u30d0\u30c3\u30b0")},c.a.createElement(O.a,{button:!0,onClick:function(){return p()}},"\u30ab\u30fc\u30c9\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u5f97")))}var U=n(988),K=n(994),V=n(989),$=n(987),q=new l.Keyring({type:"sr25519"}),z=Object($.a)({root:{"& > *":{margin:"10px"}},backdrop:{zIndex:3,color:"#fff"}}),J=function(e){return"0x"+e.map((function(e){return("0"+e.toString(16)).slice(-2)})).join("")};function L(){var e=d().api,t=z(),n=t.root,a=t.backdrop,o=Object(u.useToasts)().addToast,i=Object(r.useState)(!1),l=Object(s.a)(i,2),p=l[0],m=l[1],f=function(){var t=Object(g.a)(v.a.mark((function t(){var n,a,r,c,i,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,o("Retrieving a certificate",{appearance:"info",autoDismiss:!0}),t.next=5,F.getCert();case 5:return n=t.sent,a=e.tx.mynaChainModule.go({signature:"0x00",id:0,tbs:{CreateAccount:{cert:J(n),nonce:0}}}),r=a.args[0].tbs.hash.toHex(),o("Computing a signature",{appearance:"info",autoDismiss:!0}),t.next=11,F.computeSig("1919",r.slice(2));case 11:c=t.sent,i=e.tx.mynaChainModule.go({signature:J(c),id:0,tbs:{CreateAccount:{cert:J(n),nonce:0}}}),u=q.addFromUri("//Alice",{name:"Alice default"}),o("Waiting for the Events",{appearance:"info",autoDismiss:!0}),i.signAndSend(u,(function(e){console.log(e),e.isCompleted&&m(!1),0!=e.events.length&&e.events.forEach((function(e){var t=e.event.meta.name.toString();o(t,{appearance:"success",autoDismiss:!0})}))})),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),m(!1),o(t.t0.toString(),{appearance:"error",autoDismiss:!0});case 22:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(){return t.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{maxWidth:"sm",className:n},c.a.createElement(U.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:f},"\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210")),c.a.createElement(K.a,{className:a,open:p},c.a.createElement(V.a,{color:"inherit"})))}var G=n(993),_=n(990),Q=new l.Keyring({type:"sr25519"}),X=Object($.a)({root:{"& > *":{margin:"10px"}}});function Y(){var e=d().api,t=X().root,n=Object(u.useToasts)().addToast,a=Object(r.useState)(!1),o=Object(s.a)(a,2),i=(o[0],o[1]),l=function(e){var t=Object(r.useState)(e),n=Object(s.a)(t,2),a=n[0],c=n[1],o=/^[0-9]*$/.test(a.toString());return{value:a,onChange:function(e){return c(e.target.value)},error:!o}},p=l(0),m=l(0),f=Object(r.useState)(""),h=Object(s.a)(f,2),b=(h[0],h[1],Object(r.useState)("")),x=Object(s.a)(b,2),j=(x[0],x[1],function(){var t=Object(g.a)(v.a.mark((function t(){var a,r,c,o,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.prev=1,a=e.tx.mynaChainModule.go({signature:"0x00",id:p.value,tbs:{Mint:{amount:m.value,nonce:0}}}),r=a.args[0].tbs.hash.toHex(),n("Computing a signature",{appearance:"info",autoDismiss:!0}),t.next=7,F.computeSig("1919",r.slice(2));case 7:c=t.sent,o=e.tx.mynaChainModule.go({signature:(s=c,"0x"+s.map((function(e){return("0"+e.toString(16)).slice(-2)})).join("")),id:p.value,tbs:{Mint:{amount:m.value,nonce:0}}}),u=Q.addFromUri("//Alice",{name:"Alice default"}),n("Waiting for the Events",{appearance:"info",autoDismiss:!0}),o.signAndSend(u,(function(e){console.log(e),e.isCompleted&&i(!1),0!=e.events.length&&e.events.forEach((function(e){var t=e.event.meta.name.toString();n(t,{appearance:"success",autoDismiss:!0})}))})),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),n(t.t0.toString(),{appearance:"error",autoDismiss:!0}),i(!1);case 18:case"end":return t.stop()}var s}),t,null,[[1,14]])})));return function(){return t.apply(this,arguments)}}());return c.a.createElement(E.a,{maxWidth:"sm",className:t},c.a.createElement(G.a,Object.assign({label:"\u3042\u306a\u305f\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u756a\u53f7",fullWidth:!0,placeholder:"\u6574\u6570"},p)),c.a.createElement(G.a,Object.assign({label:"\u767a\u884c\u6570\u91cf",fullWidth:!0,placeholder:"\u6574\u6570",InputProps:{endAdornment:c.a.createElement(_.a,{position:"end"},"\u30de\u30a4\u30ca\u30b3\u30a4\u30f3")}},m)),c.a.createElement(U.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:j,disabled:p.error||m.error},"\u767a\u884c"))}var Z=new l.Keyring({type:"sr25519"}),ee=Object($.a)({root:{"& > *":{margin:"10px"}}});function te(){var e=d().api,t=ee().root,n=Object(u.useToasts)().addToast,a=Object(r.useState)(!1),o=Object(s.a)(a,2),i=(o[0],o[1]),l=function(e){var t=Object(r.useState)(e),n=Object(s.a)(t,2),a=n[0],c=n[1],o=/^[0-9]*$/.test(a.toString());return{value:a,onChange:function(e){return c(e.target.value)},error:!o}},p=l(0),m=l(0),f=l(0),h=Object(r.useState)(""),b=Object(s.a)(h,2),x=(b[0],b[1],Object(r.useState)("")),j=Object(s.a)(x,2),O=(j[0],j[1],function(){var t=Object(g.a)(v.a.mark((function t(){var a,r,c,o,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.prev=1,a=e.tx.mynaChainModule.go({signature:"0x00",id:p.value,tbs:{Send:{to:m.value,amount:f.value,nonce:0}}}),r=a.args[0].tbs.hash.toHex(),n("Computing a signature",{appearance:"info",autoDismiss:!0}),t.next=7,F.computeSig("1919",r.slice(2));case 7:c=t.sent,o=e.tx.mynaChainModule.go({signature:(s=c,"0x"+s.map((function(e){return("0"+e.toString(16)).slice(-2)})).join("")),id:p.value,tbs:{Send:{to:m.value,amount:f.value,nonce:0}}}),u=Z.addFromUri("//Alice",{name:"Alice default"}),n("Waiting for the Events",{appearance:"info",autoDismiss:!0}),o.signAndSend(u,(function(e){console.log(e),e.isCompleted&&i(!1),0!=e.events.length&&e.events.forEach((function(e){var t=e.event.meta.name.toString();n(t,{appearance:"success",autoDismiss:!0})}))})),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),n(t.t0.toString(),{appearance:"error",autoDismiss:!0}),i(!1);case 18:case"end":return t.stop()}var s}),t,null,[[1,14]])})));return function(){return t.apply(this,arguments)}}());return c.a.createElement(E.a,{maxWidth:"sm",className:t},c.a.createElement(G.a,Object.assign({label:"\u3042\u306a\u305f\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u756a\u53f7",fullWidth:!0,placeholder:"\u6574\u6570"},p)),c.a.createElement(G.a,Object.assign({label:"\u76f8\u624b\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u756a\u53f7",fullWidth:!0,placeholder:"\u6574\u6570"},m)),c.a.createElement(G.a,Object.assign({label:"\u767a\u884c\u6570\u91cf",fullWidth:!0,placeholder:"\u6574\u6570",InputProps:{endAdornment:c.a.createElement(_.a,{position:"end"},"\u30de\u30a4\u30ca\u30b3\u30a4\u30f3")}},f)),c.a.createElement(U.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:O,disabled:p.error||f.error},"\u767a\u884c"))}var ne=n(418),ae=n.n(ne),re=Object($.a)({root:{"& > *":{margin:"10px"}}});function ce(){var e=re().root,t=Object(h.f)().id,n=d().api,a=Object(r.useState)(null),o=Object(s.a)(a,2),i=o[0],u=o[1],l=Object(r.useState)(null),p=Object(s.a)(l,2),m=(p[0],p[1]),f=Object(r.useState)("Not loaded"),b=Object(s.a)(f,2),v=b[0],g=b[1];Object(r.useEffect)((function(){n.query.mynaChainModule.balance(t).then((function(e){u(e.toNumber())})),n.query.mynaChainModule.accounts(t).then((function(e){m(e.nonce.toNumber()),g(e.cert.toHex())}))}),[t]);return c.a.createElement(E.a,{maxWidth:"sm",className:e},c.a.createElement("h1",null,"Account ID: ",t),c.a.createElement("p",null,"\u30a2\u30ab\u30a6\u30f3\u30c8",t,"\u304c\u6240\u6709\u3059\u308b\u91d1\u984d:"," ",i+" \u30de\u30a4\u30ca\u30b3\u30a4\u30f3"||!1),c.a.createElement(G.a,{label:"\u8a3c\u660e\u66f8",multiline:!0,rows:"6",disabled:!0,variant:"filled",fullWidth:!0,value:v}),c.a.createElement(U.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(ae.a,null),onClick:function(){window.open("https://lapo.it/asn1js/#"+v.slice(2))}},"\u8a3c\u660e\u66f8\u306e\u4e2d\u8eab\u3092\u78ba\u8a8d\u3059\u308b"))}var oe=n(991),ie=n(992),ue=n(175),se=n(995),le=n(419),pe=n.n(le),me=Object($.a)({form:{backgroundColor:"rgba(255,255,255,0.1)",margin:"12px",borderRadius:"5px",position:"relative",display:"flex"},input:{color:"white",marginLeft:"40px"},icon:{pointerEvents:"none",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",marginLeft:"10px"},grow:{flexGrow:1}});function de(){var e=me(),t=Object(h.e)(),n=Object(r.useState)(0),a=Object(s.a)(n,2),o=a[0],i=a[1];return c.a.createElement(oe.a,{position:"static"},c.a.createElement(ie.a,null,c.a.createElement(ue.a,{variant:"h6",onClick:function(){t.push("/")}},"\u30de\u30a4\u30ca\u30c1\u30a7\u30fc\u30f3"),c.a.createElement("div",{className:e.grow}),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.push("/detail/"+o)},className:e.form},c.a.createElement("div",{className:e.icon},c.a.createElement(pe.a,null)),c.a.createElement(se.a,{className:e.input,onChange:function(e){i(parseInt(e.target.value))},id:"standard-basic",placeholder:"\u30a2\u30ab\u30a6\u30f3\u30c8ID\u3067\u691c\u7d22"}))))}var fe={textAlign:"center"};function he(){return c.a.createElement("div",{style:fe},c.a.createElement(V.a,null),c.a.createElement("h1",null,"Connecting to the Blockchain"),c.a.createElement("p",null,"Blockchain might take you to the new world if the usage is correct."),c.a.createElement("p",null,"If the home screen show up, the node you are connecting is down. Please consult connecting the another node."))}function be(){var e=d().isReady;return c.a.createElement(c.a.Fragment,null,e&&c.a.createElement(f.a,null,c.a.createElement(de,null),c.a.createElement(h.a,{path:"/",exact:!0,component:H}),c.a.createElement(h.a,{path:"/newAccount",component:L}),c.a.createElement(h.a,{path:"/mint",component:Y}),c.a.createElement(h.a,{path:"/send",component:te}),c.a.createElement(h.a,{path:"/detail/:id",component:ce})),!e&&c.a.createElement(he,null))}var ve=function(){return c.a.createElement(m,null,c.a.createElement(u.ToastProvider,null,c.a.createElement(be,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[428,1,2]]]);
//# sourceMappingURL=main.4236cd53.chunk.js.map